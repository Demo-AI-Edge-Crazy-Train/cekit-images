schema_version: 1

from: "ubi8:8.0-released"
name: &name "adoptopenjdk/openj9-8-rhel8"
version: &version "1.1"
description: "Source To Image (S2I) image for Red Hat OpenShift providing OpenJ9 1.8"

labels:
- name: "com.redhat.component"
  value: "openj9-8-rhel8-container"
- name: "usage"
  value: "https://access.redhat.com/documentation/en-us/red_hat_jboss_middleware_for_openshift/3/html/red_hat_java_s2i_for_openshift/"

envs:
- name: "JBOSS_IMAGE_NAME"
  value: *name
- name: "JBOSS_IMAGE_VERSION"
  value: *version

modules:
  install:
  - name: jboss.container.maven.35.bash
    version: "3.5"
  - name: jboss.container.java.rm-openjdk

osbs:
  configuration:
    container:
      compose:
        pulp_repos: true
  repository:
    name: containers/openjdk
    branch: private-jdowland-openj9-jdk8-rhel8

packages:
# use the following extra override to build:
# --overrides '{"packages": {"repositories": [{"name": "openj9", "url": {"repository": "http://internal/openj9.repo"}}]}}'
  repositories:
    - name: scl
      rpm: ~
    - name: openj9
      id: openj9
  manager: dnf
